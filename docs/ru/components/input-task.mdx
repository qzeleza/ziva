---
title: "InputTask"
description: "Текстовый ввод с типами полей, таймаутами и встроенной валидацией"
---

# InputTask

`InputTask` отвечает за ввод строковых значений. Он поддерживает разные типы полей (пароль, email, IP и т.д.), таймауты, форматирование и подключение валидаторов.

## Создание

```go
name := termos.NewInputTask("Имя проекта", "Введите название:")
```

![Скриншот: ввод с валидацией](/images/pic_4.png)

## Настройки

### Тип ввода

```go
name.WithInputType(termos.InputTypeText)
password := termos.NewInputTask("Пароль", "Введите пароль:").
    WithInputType(termos.InputTypePassword)
```

Доступные типы:

```go
const (
    termos.InputTypeText     // обычный текст
    termos.InputTypePassword // скрытый ввод
    termos.InputTypeEmail    // email
    termos.InputTypeNumber   // число
    termos.InputTypeIP       // IP адрес
    termos.InputTypeDomain   // доменное имя
)
```

При выборе типа автоматически подставляется подходящий валидатор (если его не задали вручную).

### Валидаторы

```go
v := termos.DefaultValidators

name.WithValidator(v.Username())
email := termos.NewInputTask("Email", "Введите email:").
    WithInputType(termos.InputTypeEmail).
    WithValidator(v.Email())
```

Вы также можете реализовать собственный валидатор — достаточно типа с методами `Validate(string) error` и `Description() string`.

### Таймаут и значение по умолчанию

```go
name.WithTimeout(30*time.Second, "demo-app")
```

### Плейсхолдер, ширина и пустые значения

```go
name.
  WithPlaceholder("например, billing-service").
  WithWidth(40).                     // минимальные/максимальные ограничения применяются автоматически
  WithAllowEmpty(false)              // запретить пустой ввод
```

## Получение результата

```go
queue := termos.NewQueue("Регистрация")
queue.AddTasks(name)
_ = queue.Run()

fmt.Println("Имя проекта:", name.GetValue())
```

## Пример формы

```go
func askCredentials() (string, string) {
    v := termos.DefaultValidators

    login := termos.NewInputTask("Логин", "Имя пользователя:").
        WithValidator(v.Username())

    password := termos.NewInputTask("Пароль", "Пароль (>=12 символов):").
        WithInputType(termos.InputTypePassword).
        WithValidator(v.StrongPassword())

    queue := termos.NewQueue("Авторизация")
    queue.AddTasks(login, password)
    _ = queue.Run()

    return login.GetValue(), password.GetValue()
}
```

## Советы

- Разрешайте пустой ввод (`WithAllowEmpty(true)`), если поле опциональное. При необходимости отдельно проверяйте значение после очереди.
- Показывайте примеры в плейсхолдерах — пользователю проще понять формат.
- Сохраняйте ссылку на задачу, пока нужно значение, поскольку оно хранится внутри `InputTask`.
- Для комбинированной проверки (например, email + домен) используйте `FuncTask` после `InputTask`, где можете выполнить дополнительные проверки и вывести подсказку.

## Связанные материалы

- [Валидация данных](/ru/validation/overview)
- [FuncTask](/ru/components/func-task)
